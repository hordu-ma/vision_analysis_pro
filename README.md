# Vision Analysis Pro

å·¥ç¨‹åŸºç¡€è®¾æ–½å›¾åƒè¯†åˆ«æ™ºèƒ½è¿ç»´ç³»ç»Ÿ - åŸºäº YOLO çš„æ— äººæœºå·¡æ£€è§£å†³æ–¹æ¡ˆ

## é¡¹ç›®ç®€ä»‹

é’ˆå¯¹è¾“ç”µå¡”ç­‰å·¥ç¨‹åŸºç¡€è®¾æ–½ï¼Œä½¿ç”¨äººå·¥æ™ºèƒ½å›¾åƒè¯†åˆ«æŠ€æœ¯ï¼ˆåŸºäº YOLOv8/v11 æ¡†æ¶ï¼‰ï¼Œç»“åˆæ— äººæœºå·¡æ£€ï¼Œè¯†åˆ«åœ°éœ‡ã€å¼ºé£ã€é›¨é›ªç­‰è‡ªç„¶ç¾å®³å¯¼è‡´çš„æ½œåœ¨å®‰å…¨éšæ‚£ï¼ˆè£‚ç¼ã€é”ˆèš€ã€å˜å½¢ç­‰ï¼‰ï¼Œå®ç°æ™ºèƒ½åŒ–è¿ç»´ã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸš **æ— äººæœºå·¡æ£€**ï¼šæ”¯æŒè§†é¢‘æµå’Œå›¾åƒåˆ†æ
- ğŸ¤– **AI æ£€æµ‹**ï¼šåŸºäº YOLOv8/v11 çš„é«˜ç²¾åº¦ç›®æ ‡æ£€æµ‹
- ğŸ”§ **è¾¹ç¼˜è®¡ç®—**ï¼šæ”¯æŒ Jetson/NUC ç­‰è¾¹ç¼˜è®¾å¤‡éƒ¨ç½²
- ğŸŒ **äº‘ç«¯ç®¡ç†**ï¼šFastAPI åç«¯ + Vue3 å‰ç«¯ç®¡ç†å¹³å°
- âš¡ **é«˜æ€§èƒ½**ï¼šæ”¯æŒ ONNX Runtime/TensorRT åŠ é€Ÿæ¨ç†
- ğŸ¦€ **Rust ä¼˜åŒ–**ï¼šå…³é”®æ¨¡å—æ”¯æŒ Rust åŠ é€Ÿï¼ˆå¯é€‰ï¼‰

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python >= 3.12
- uv >= 0.9.8
- CUDA >= 11.8ï¼ˆGPU æ¨ç†ï¼‰

### å®‰è£…

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository_url>
cd vision_analysis_pro

# 2. å®‰è£…ä¾èµ–ï¼ˆåŸºç¡€ç‰ˆæœ¬ï¼‰
uv sync

# 3. å®‰è£… GPU åŠ é€Ÿç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰
uv sync --extra onnx

# 4. å®‰è£…å¼€å‘ä¾èµ–
uv sync --extra dev

# 5. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ¨¡å‹è·¯å¾„ç­‰å‚æ•°
```

### è¿è¡Œ

#### å¯åŠ¨ Web API æœåŠ¡

```bash
uv run uvicorn vision_analysis_pro.web.api.main:app --reload
```

è®¿é—® http://localhost:8000 æŸ¥çœ‹ API æ–‡æ¡£ã€‚

#### è¿è¡Œè¾¹ç¼˜ Agentï¼ˆå¼€å‘ä¸­ï¼‰

```bash
uv run edge-agent --config config/edge_config.yaml
```

#### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
uv run pytest

# æŸ¥çœ‹è¦†ç›–ç‡
uv run pytest --cov-report=html
```

## é¡¹ç›®ç»“æ„

```
vision_analysis_pro/
â”œâ”€â”€ src/vision_analysis_pro/
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ inference/          # æ¨ç†å¼•æ“
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py         # æ¨ç†å¼•æ“æŠ½è±¡åŸºç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ python_engine.py # Python å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ rust_engine.py  # Rust åŠ é€Ÿç‰ˆï¼ˆå¯é€‰ï¼‰
â”‚   â”‚   â””â”€â”€ preprocessing/      # å›¾åƒé¢„å¤„ç†
â”‚   â”‚       â””â”€â”€ transforms.py   # é¢„å¤„ç†å˜æ¢
â”‚   â”œâ”€â”€ edge_agent/             # è¾¹ç¼˜æ¨ç† Agent
â”‚   â”‚   â””â”€â”€ agent.py            # Agent ä¸»ç¨‹åº
â”‚   â””â”€â”€ web/                    # Web ç®¡ç†åå°
â”‚       â””â”€â”€ api/                # FastAPI åç«¯
â”‚           â”œâ”€â”€ main.py         # API å…¥å£
â”‚           â””â”€â”€ routers/        # API è·¯ç”±
â”‚               â””â”€â”€ inference.py # æ¨ç†æ¥å£
â”œâ”€â”€ tests/                      # æµ‹è¯•
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”œâ”€â”€ models/                     # æ¨¡å‹æ–‡ä»¶ï¼ˆéœ€è‡ªè¡Œæ·»åŠ ï¼‰
â”œâ”€â”€ data/                       # æ•°æ®é›†ï¼ˆéœ€è‡ªè¡Œæ·»åŠ ï¼‰
â”œâ”€â”€ rust_extensions/            # Rust æ‰©å±•ï¼ˆé˜¶æ®µ 2ï¼‰
â”œâ”€â”€ edge_agent_rust/            # Rust è¾¹ç¼˜ Agentï¼ˆé˜¶æ®µ 3ï¼‰
â”œâ”€â”€ pyproject.toml              # é¡¹ç›®é…ç½®
â”œâ”€â”€ ruff.toml                   # ä»£ç æ£€æŸ¥é…ç½®
â””â”€â”€ .env.example                # ç¯å¢ƒå˜é‡ç¤ºä¾‹
```

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ `ruff` è¿›è¡Œä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–ï¼š

```bash
# æ£€æŸ¥ä»£ç 
uv run ruff check .

# è‡ªåŠ¨ä¿®å¤
uv run ruff check --fix .

# æ ¼å¼åŒ–ä»£ç 
uv run ruff format .
```

### ç±»å‹æ£€æŸ¥

```bash
uv run mypy src/vision_analysis_pro
```

### æäº¤è§„èŒƒ

éµå¾ª Conventional Commits è§„èŒƒï¼š

```
feat(core): æ·»åŠ  ONNX æ¨ç†å¼•æ“æ”¯æŒ
fix(api): ä¿®å¤å›¾åƒä¸Šä¼ æ¥å£é”™è¯¯
docs(readme): æ›´æ–°å®‰è£…è¯´æ˜
```

## æŠ€æœ¯æ ˆ

### Python æ ¸å¿ƒ

- **AI æ¡†æ¶**ï¼šUltralytics YOLO (PyTorch)
- **æ¨ç†å¼•æ“**ï¼šONNX Runtime, TensorRT (å¯é€‰)
- **å›¾åƒå¤„ç†**ï¼šOpenCV, NumPy
- **Web æ¡†æ¶**ï¼šFastAPI, Uvicorn
- **æµ‹è¯•**ï¼šPytest

### Rust æ‰©å±•ï¼ˆå¯é€‰ï¼‰

- **æ¨ç†ç»‘å®š**ï¼šort (ONNX Runtime)
- **Python é›†æˆ**ï¼šPyO3, Maturin
- **å›¾åƒå¤„ç†**ï¼šimage, ndarray

### å‰ç«¯ï¼ˆè§„åˆ’ä¸­ï¼‰

- TypeScript + Vue3
- Element Plus / Ant Design Vue
- Vite

## è·¯çº¿å›¾

### âœ… MVP é˜¶æ®µï¼ˆç¬¬ 1-2 å‘¨ï¼‰

- [x] é¡¹ç›®åŸºç¡€ç»“æ„æ­å»º
- [ ] YOLOv8 æ¨¡å‹è®­ç»ƒ pipeline
- [ ] Python æ¨ç†å¼•æ“å®ç°
- [ ] åŸºç¡€ Web API æ¥å£

### ğŸš§ ä¼˜åŒ–é˜¶æ®µï¼ˆç¬¬ 3-4 å‘¨ï¼‰

- [ ] ONNX/TensorRT å¯¼å‡ºä¸ä¼˜åŒ–
- [ ] PyO3 å›¾åƒé¢„å¤„ç†åŠ é€Ÿï¼ˆå¯é€‰ï¼‰
- [ ] è¾¹ç¼˜ Agent Python ç‰ˆæœ¬
- [ ] Web å‰ç«¯ç•Œé¢

### ğŸ“‹ ç”Ÿäº§é˜¶æ®µï¼ˆç¬¬ 5+ å‘¨ï¼‰

- [ ] Rust è¾¹ç¼˜ Agent é‡å†™
- [ ] æ¨¡å‹ç®¡ç†åŠŸèƒ½
- [ ] è®¾å¤‡ç®¡ç†ä¸ç›‘æ§
- [ ] å®Œæ•´æ–‡æ¡£ä¸éƒ¨ç½²æŒ‡å—

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

[MIT License](LICENSE)

## è”ç³»æ–¹å¼

- ä½œè€…ï¼šLiguo Ma
- é‚®ç®±ï¼šmaliguo@outlook.com
